<!DOCTYPE html>
<html lang="dv" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>އާޓިކަލްސް & ޚަބަރު - ޒާދް އެކަޑެމީ</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thaana:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- 2. FONT LOADING (PC Support) --- */
        @font-face {
            font-family: 'Mv Galan';
            src: url('fonts/Mv Galan.ttf') format('truetype'), local('Mv Galan');
            font-weight: normal; font-style: normal; font-display: swap;
        }
        @font-face {
            font-family: 'Faruma';
            src: url('fonts/Faruma.ttf') format('truetype'), local('Faruma');
            font-weight: normal; font-style: normal; font-display: swap;
        }

        /* --- THEME VARIABLES --- */
        :root {
            --primary: #0C2D48;
            --accent: #B49658; /* Gold */
            --bg: #f8f9fa;
            --white: #ffffff;
            --text: #333333;
            --meta: #777777;
            /* Font Stack: Galan (PC) -> Faruma -> Noto Sans (Mobile) */
            --font-main: 'Mv Galan', 'Faruma', 'Noto Sans Thaana', sans-serif;
        }

        /* --- 3. BASE STYLES & SECURITY --- */
        body { 
            margin: 0; 
            font-family: var(--font-main) !important;
            background: var(--bg); color: var(--text); padding-bottom: 100px;
            line-height: 1.8; padding-top: 60px;
            
            /* HIGH SECURITY: Disable Selection */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }
        
        img { pointer-events: none; -webkit-user-drag: none; }
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        * { box-sizing: border-box; }

        /* --- NAVIGATION --- */
        .navbar {
            position: fixed; top: 0; left: 0; width: 100%;
            background: var(--white); z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border-bottom: 1px solid #eee;
        }
        .nav-container { max-width: 1400px; margin: 0 auto; display: flex; justify-content: center; height: 60px; align-items: center; }
        .nav-links { list-style: none; padding: 0; margin: 0; display: flex; gap: 15px; }
        .nav-links li a { 
            font-weight: bold; font-size: 1.1em; color: var(--primary); 
            padding: 10px 15px; border-radius: 5px; 
            font-family: var(--font-main) !important;
        }
        .nav-links li a:hover { color: var(--accent); background: #fcfcfc; }

        /* --- HEADER & LOGO --- */
        header { 
            background: linear-gradient(135deg, var(--primary) 0%, #051626 100%); 
            color: var(--white); padding: 50px 5% 80px 5%; 
            text-align: center; border-bottom: 6px solid var(--accent); 
            margin-bottom: 60px; position: relative;
        }

        .profile-photo {
            width: 150px; height: 150px;
            object-fit: contain; margin-bottom: 15px;
            background-color: transparent; 
            border-radius: 50%;
            filter: drop-shadow(0 0 15px rgba(180, 150, 88, 0.4));
            transition: transform 0.5s;
        }
        .profile-photo:hover { transform: scale(1.05); }

        .page-title { 
            font-size: 2.8em; font-weight: bold; margin: 0; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5); 
            font-family: var(--font-main) !important;
        }
        .page-subtitle { color: var(--accent); margin-top: 10px; font-size: 1.2em; opacity: 0.9; }

        /* --- SEARCH BAR --- */
        .search-container { max-width: 700px; margin: -80px auto 40px auto; padding: 0 20px; position: relative; z-index: 100; }
        .search-box {
            position: relative; background: white; border-radius: 50px; padding: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); border: 2px solid var(--accent);
            display: flex; align-items: center; transition: 0.3s;
        }
        .search-box:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(180, 150, 88, 0.3); }
        .search-input {
            width: 100%; padding: 15px 60px 15px 25px; border: none; outline: none;
            font-size: 1.2em; font-family: var(--font-main) !important; color: var(--primary); background: transparent;
        }
        .search-icon-box {
            position: absolute; right: 10px; top: 50%; transform: translateY(-50%);
            width: 50px; height: 50px; background: var(--primary); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: var(--accent); font-size: 1.2em;
        }

        /* --- GRID & CARDS --- */
        .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
        .article-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }

        .article-card { 
            background: var(--white); border-radius: 15px; overflow: hidden; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: 0.3s;
            display: flex; flex-direction: column; border: 1px solid #eee; height: fit-content;
        }
        .article-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); border-color: var(--accent); }

        .card-img-container { position: relative; height: 200px; overflow: hidden; background: #eee; }
        .card-img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .article-card:hover .card-img { transform: scale(1.05); }

        .card-body { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
        .meta-row { display: flex; justify-content: space-between; font-size: 0.85em; color: var(--meta); margin-bottom: 15px; border-bottom: 1px dashed #eee; padding-bottom: 10px; }
        
        .article-tag { background: var(--primary); color: white; padding: 2px 10px; font-size: 0.8em; border-radius: 20px; width: fit-content; margin-bottom: 10px; }
        .article-title { font-size: 1.5em; font-weight: bold; margin: 0 0 15px 0; line-height: 1.4; color: var(--primary); }
        .article-summary { font-size: 1.1em; color: #555; line-height: 1.7; margin-bottom: 20px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .full-content { display: none; } 

        .read-more-btn { 
            display: inline-flex; align-items: center; gap: 10px; cursor: pointer;
            color: var(--white); background: var(--primary); font-weight: bold; font-size: 1em; 
            padding: 10px 25px; border-radius: 50px; align-self: flex-start; margin-top: auto;
            transition: 0.3s;
        }
        .read-more-btn:hover { background: var(--accent); }

        /* --- ADMIN & SECURITY --- */
        .admin-ui { display: none !important; }
        body.admin-active .admin-ui { display: inline-flex !important; }
        body.admin-active .article-card { border: 2px dashed var(--accent); }
        body.admin-active .full-content { display: block; border: 1px dashed #ccc; padding: 10px; margin-top: 10px; background: #fffbe6; }
        body.admin-active .article-summary, body.admin-active .read-more-btn { display: none; }
        
        /* Enable selection ONLY in admin mode */
        body.admin-active { user-select: text; -webkit-user-select: text; }

        .delete-btn { position: absolute; top: 10px; left: 10px; background: red; color: white; border: none; padding: 5px; cursor: pointer; z-index: 10; font-weight: bold; }
        .admin-toolbar { position: fixed; bottom: 0; left: 0; width: 100%; background: #1a1a1a; color: white; padding: 15px 30px; display: none; justify-content: space-between; align-items: center; z-index: 9999; border-top: 4px solid var(--accent); }
        .admin-btn { padding: 10px 25px; border-radius: 5px; border: none; font-weight: bold; cursor: pointer; }
        .save-btn { background: var(--accent); color: white; }
        .add-btn { background: #27ae60; color: white; }
        [contenteditable="true"] { outline: none; background: rgba(255, 255, 255, 0.9); border-bottom: 2px dashed var(--accent); cursor: text; }

        /* --- MODAL --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 5000; display: none; justify-content: center; padding: 40px 20px; backdrop-filter: blur(5px); overflow-y: auto; }
        .modal-content { background: white; width: 100%; max-width: 900px; border-radius: 15px; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); animation: slideUp 0.4s ease; margin: auto; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .modal-header { position: relative; height: 350px; }
        .modal-img { width: 100%; height: 100%; object-fit: cover; border-radius: 15px 15px 0 0; }
        .close-modal { position: absolute; top: 20px; left: 20px; background: rgba(0,0,0,0.6); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.2em; transition: 0.3s; }
        .close-modal:hover { background: red; }
        .modal-body { padding: 40px; }
        .modal-title { font-size: 2.2em; color: var(--primary); font-weight: bold; margin-bottom: 10px; }
        .modal-meta { color: #666; font-size: 0.9em; margin-bottom: 30px; display: flex; gap: 20px; border-bottom: 2px solid var(--accent); padding-bottom: 15px; }
        .modal-text { font-size: 1.3em; line-height: 2; color: #333; white-space: pre-wrap; text-align: justify; }

        footer { text-align: center; margin-top: 60px; color: #888; font-size: 0.9em; padding: 40px; background: #eee; }
        @media (max-width: 768px) { .nav-links { flex-wrap: wrap; justify-content: center; } .nav-links li a { padding: 10px 15px; } }
    </style>
</head>
<body oncontextmenu="return false;">

    <nav class="navbar">
        <div class="nav-container">
            <ul class="nav-links">
                <li><a href="https://academyzaad.com/index.html"><i class="fas fa-home"></i> ހޯމް</a></li>
                <li><a href="https://academyzaad.com/courses.html">ކޯސްތައް</a></li>
                <li><a href="https://academyzaad.com/library.html">ލައިބްރަރީ</a></li>
                <li><a href="https://academyzaad.com/contact.html">ގުޅުއްވާ</a></li>
            </ul>
        </div>
    </nav>

    <header>
        <img src="photos/logo.png" alt="Zaad Academy Logo" class="profile-photo" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MDAgNTAwIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ29sZCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNCNDk2NTgiIC8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I0YzRTVBQiIgLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxjaXJjbGUgY3g9IjI1MCIgY3k9IjI1MCIgcj0iMjMwIiBzdHJva2U9InVybCgjZ29sZCkiIHN0cm9rZS13aWR0aD0iMTUiIGZpbGw9Im5vbmUiLz4KICA8dGV4dCB4PSI1MCUiIHk9IjU1JSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0idXJsKCNnb2xkKSIgZm9udC1zaXplPSIxODAiIGZvbnQtZmFtaWx5PSJzZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiPlpBPC90ZXh0PgogIDx0ZXh0IHg9IjUwJSIgeT0iNzUlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjRkZGIiBmb250LXNpemU9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgbGV0dGVyLXNwYWNpbmc9IjUiPkFDQURFTVk8L3RleHQ+Cjwvc3ZnPg=='">
        
        <h1 class="page-title">ޒާދް އެކަޑެމީ - އާޓިކަލްސް</h1>
        <div class="page-subtitle">އެންމެ ފަހުގެ ޚަބަރުތަކާއި، ދިރާސީ ލިޔުންތައް އެއްތަނަކުން</div>
    </header>

    <div class="search-container">
        <div class="search-box">
            <div class="search-icon-box"><i class="fas fa-search"></i></div>
            <input type="text" id="searchInput" class="search-input" onkeyup="filterArticles()" placeholder="އާޓިކަލް ހޯއްދަވާ (ސުރުޚީ ނުވަތަ ޓެގް ޖައްސަވާ)...">
        </div>
    </div>

    <div class="container">
        <div class="article-grid" id="articleGrid">
            
            <article class="article-card">
                <button class="delete-btn admin-ui" onclick="removeCard(this)">Delete</button>
                <div class="card-img-container"><img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=500" class="card-img" onclick="changeImage(this)"></div>
                <div class="card-body">
                    <div class="article-tag" contenteditable="false">ޓެކްނޮލޮޖީ</div>
                    <h2 class="article-title" contenteditable="false">އޭ.އައި ގެ ކުރިމަގު</h2>
                    <div class="meta-row"><div class="meta-item"><i class="far fa-calendar-alt"></i> <span contenteditable="false">21 Dec 2025</span></div><div class="meta-item"><i class="far fa-user"></i> <span contenteditable="false">އެޑްމިން</span></div></div>
                    <div class="article-summary" contenteditable="false">އާޓިފިޝަލް އިންޓެލިޖެންސްގެ ސަބަބުން ދުނިޔެއަށް އަންނަމުންދާ ބޮޑެތި ބަދަލުތަކާއި، އޭގެ ފައިދާ...</div>
                    <div class="full-content" contenteditable="false"><p><strong>އޭ.އައި ގެ ކުރިމަގު</strong></p><p>އާޓިފިޝަލް އިންޓެލިޖެންސް ނުވަތަ މަސްނޫޢީ ވިސްނުމަކީ މިއަދު ދުނިޔޭގެ ހުރިހާ ދާއިރާއަކަށް ނުފޫޒު ފޯރުވަމުންދާ އެއްޗެކެވެ. ތަޢުލީމީ ދާއިރާ، ސިއްޙީ ދާއިރާ، އަދި ވިޔަފާރީގެ ދާއިރާގައި އޭ.އައި ގެ ބޭނުން ހިފުން އިތުރުވަމުންދާއިރު، މުސްތަޤުބަލުގައި މި ޓެކްނޮލޮޖީ ވެގެންދާނީ އަޅުގަނޑުމެންގެ ދިރިއުޅުމުގެ މުހިންމު ބަޔަކަށެވެ.</p></div>
                    <div class="read-more-btn" onclick="openModal(this)">އިތުރަށް ވިދާޅުވޭ</div>
                </div>
            </article>

            <article class="article-card">
                <button class="delete-btn admin-ui" onclick="removeCard(this)">Delete</button>
                <div class="card-img-container"><img src="https://images.unsplash.com/photo-1501504905252-473c47e087f8?w=500" class="card-img" onclick="changeImage(this)"></div>
                <div class="card-body">
                    <div class="article-tag" contenteditable="false">ތަޢުލީމް</div>
                    <h2 class="article-title" contenteditable="false">އޮންލައިންކޮށް ކިޔެވުން</h2>
                    <div class="meta-row"><div class="meta-item"><i class="far fa-calendar-alt"></i> <span contenteditable="false">20 Dec 2025</span></div><div class="meta-item"><i class="far fa-user"></i> <span contenteditable="false">ޒާދް</span></div></div>
                    <div class="article-summary" contenteditable="false">ގޭގައި ތިބެގެން ކިޔެވުމުގެ ފަސޭހަކަމާއި، ވަގުތު ސަލާމަތްކުރުމަށް ލިބޭ ފުރުޞަތުތައް...</div>
                    <div class="full-content" contenteditable="false"><p><strong>އޮންލައިންކޮށް ކިޔެވުން</strong></p><p>އިންޓަނެޓްގެ ޒަރިއްޔާއިން ކިޔެވުމަކީ މިހާރު ވަރަށް އާންމު ކަމެކެވެ. ޒާދް އެކަޑަމީންވެސް ދަނީ ދުރުންދޭ ތަޢުލީމުގެ ނިޒާމު ހަރުދަނާކޮށް، ރާއްޖޭގެ ކޮންމެ ހިސާބެއްގައި ހުރެގެންވެސް ފެންވަރު ރަނގަޅު ތަޢުލީމު ހޯދޭނެ މަގު ފަހިކޮށްދެމުންނެވެ.</p></div>
                    <div class="read-more-btn" onclick="openModal(this)">އިތުރަށް ވިދާޅުވޭ</div>
                </div>
            </article>

            <article class="article-card">
                <button class="delete-btn admin-ui" onclick="removeCard(this)">Delete</button>
                <div class="card-img-container"><img src="https://images.unsplash.com/photo-1548625361-12e624c969b8?w=500" class="card-img" onclick="changeImage(this)"></div>
                <div class="card-body">
                    <div class="article-tag" contenteditable="false">ތާރީޚް</div>
                    <h2 class="article-title" contenteditable="false">އަންދަލުސްގެ ރަން ޒަމާން</h2>
                    <div class="meta-row"><div class="meta-item"><i class="far fa-calendar-alt"></i> <span contenteditable="false">18 Dec 2025</span></div><div class="meta-item"><i class="far fa-user"></i> <span contenteditable="false">އެޑްމިން</span></div></div>
                    <div class="article-summary" contenteditable="false">އިސްލާމީ ތާރީޚުގައި އަންދަލުސް (ސްޕެއިން) ގައި މުސްލިމުން ހޭދަކުރި ފާގަތި ދުވަސްތައް...</div>
                    <div class="full-content" contenteditable="false"><p><strong>އަންދަލުސްގެ ރަން ޒަމާން</strong></p><p>ޔޫރަޕް އަނދިރިކަމުގެ ތެރޭގައި އޮތްއިރު، މުސްލިމުންގެ އަންދަލުސް އޮތީ ޢިލްމާއި ޙަޟާރަތުގެ ގޮތުން އެންމެ ކުރީގައެވެ. ކޯޓުބާގެ ލައިބްރަރީތަކާއި، ސައިންސްވެރިންގެ ހޯދުންތަކަކީ މިއަދުގެ ޒަމާނީ ދުނިޔޭގެ ބިންގަލެވެ.</p></div>
                    <div class="read-more-btn" onclick="openModal(this)">އިތުރަށް ވިދާޅުވޭ</div>
                </div>
            </article>

             <article class="article-card">
                <button class="delete-btn admin-ui" onclick="removeCard(this)">Delete</button>
                <div class="card-img-container"><img src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=500" class="card-img" onclick="changeImage(this)"></div>
                <div class="card-body">
                    <div class="article-tag" contenteditable="false">ސައިންސް</div>
                    <h2 class="article-title" contenteditable="false">ޖައްވީ ހޯދުންތައް</h2>
                    <div class="meta-row"><div class="meta-item"><i class="far fa-calendar-alt"></i> <span contenteditable="false">17 Dec 2025</span></div><div class="meta-item"><i class="far fa-user"></i> <span contenteditable="false">ސައިންސް</span></div></div>
                    <div class="article-summary" contenteditable="false">ކާއިނާތުގެ އަޖައިބުތަކާއި، ތަރިތަކާއި ގުރަހަތަކުގެ ދައުރުވުން...</div>
                    <div class="full-content" contenteditable="false"><p><strong>ޖައްވީ ހޯދުންތައް</strong></p><p>އالލާހުގެ ކުޅަދުންވަންތަކަން ހާމަވެގެންދާ އެންމެ ބޮޑު އެއް ހެއްކަކީ މި വിശާލަ ކާއިނާތެވެ. ޖޭމްސް ވެބް ޓެލެސްކޯޕުން ލިބެމުންދާ އައު މަޢުލޫމާތުތަކުން އިންސާނުންގެ ލޯތައް ވަނީ ހުޅުވިފައެވެ.</p></div>
                    <div class="read-more-btn" onclick="openModal(this)">އިތުރަށް ވިދާޅުވޭ</div>
                </div>
            </article>

        </div>
    </div>

    <footer>
        <div id="copyright" ondblclick="activateAdmin()" style="cursor: pointer; display: inline-block; padding: 10px;">
            © 2025 Zaad Academy. All Rights Reserved. (Double Click to Edit)
        </div>
    </footer>

    <div class="admin-toolbar" id="adminToolbar">
        <div><i class="fas fa-lock-open"></i> <strong>Admin Mode</strong></div>
        <div style="display:flex; gap:10px;">
            <button class="admin-btn add-btn" onclick="addNewArticle()">Add Article</button>
            <button class="admin-btn save-btn" onclick="savePage()">Save & Download</button>
        </div>
    </div>

    <div class="modal-overlay" id="detailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="close-modal" onclick="closeModal()"><i class="fas fa-times"></i></div>
                <img src="" id="modalImg" class="modal-img">
            </div>
            <div class="modal-body">
                <h1 id="modalTitle" class="modal-title"></h1>
                <div id="modalMeta" class="modal-meta"></div>
                <div id="modalText" class="modal-text"></div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. HIGH SECURITY SCRIPTS (Anti-Theft) ---
        document.onkeydown = function(e) {
            if(document.body.classList.contains('admin-active')) return true; // Allow if Admin
            
            // F12, Ctrl+U, Ctrl+S, Ctrl+P, Ctrl+C
            if(event.keyCode == 123) return false;
            if(e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) return false;
            if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
            if(e.ctrlKey && e.keyCode == 'S'.charCodeAt(0)) return false;
            if(e.ctrlKey && e.keyCode == 'P'.charCodeAt(0)) return false;
            if(e.ctrlKey && e.keyCode == 'C'.charCodeAt(0)) return false;
        }

        // --- 2. FILTER FUNCTION ---
        function filterArticles() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toLowerCase();
            const grid = document.getElementById('articleGrid');
            const articles = grid.getElementsByClassName('article-card');

            for (let i = 0; i < articles.length; i++) {
                const title = articles[i].querySelector('.article-title').innerText.toLowerCase();
                const tag = articles[i].querySelector('.article-tag').innerText.toLowerCase();
                if (title.indexOf(filter) > -1 || tag.indexOf(filter) > -1) {
                    articles[i].style.display = "";
                } else {
                    articles[i].style.display = "none";
                }
            }
        }

        // --- 3. MODAL LOGIC ---
        function openModal(btn) {
            if(document.body.classList.contains('admin-active')) return; 
            const card = btn.closest('.article-card');
            document.getElementById('modalImg').src = card.querySelector('.card-img').src;
            document.getElementById('modalTitle').innerHTML = card.querySelector('.article-title').innerHTML;
            document.getElementById('modalMeta').innerHTML = card.querySelector('.meta-row').innerHTML;
            document.getElementById('modalText').innerHTML = card.querySelector('.full-content').innerHTML;
            document.getElementById('detailsModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        function closeModal() {
            document.getElementById('detailsModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        window.onclick = function(e) { if (e.target == document.getElementById('detailsModal')) closeModal(); }

        // --- 4. ADMIN FUNCTIONS ---
        function activateAdmin() {
            if(document.body.classList.contains('admin-active')) return;
            var pass = prompt("Enter Admin Password:");
            if(pass === "admin123") {
                document.body.classList.add('admin-active');
                document.getElementById('adminToolbar').style.display = 'flex';
                document.querySelectorAll('.article-title, .article-summary, .full-content, .article-tag, .meta-item span').forEach(el => el.contentEditable = "true");
                alert("Admin Mode Active!");
            } else {
                alert("Incorrect Password");
            }
        }

        function addNewArticle() {
            const grid = document.getElementById('articleGrid');
            const newCard = document.createElement('article');
            newCard.className = 'article-card';
            newCard.innerHTML = `
                <button class="delete-btn admin-ui" onclick="removeCard(this)">Delete</button>
                <div class="card-img-container"><img src="https://via.placeholder.com/600x400" class="card-img" onclick="changeImage(this)"></div>
                <div class="card-body">
                    <div class="article-tag" contenteditable="true">Category</div>
                    <h2 class="article-title" contenteditable="true">New Title</h2>
                    <div class="meta-row"><div class="meta-item"><span contenteditable="true">Date</span></div></div>
                    <div class="article-summary" contenteditable="true">Short summary...</div>
                    <div class="full-content" contenteditable="true">Full content...</div>
                    <div class="read-more-btn" onclick="openModal(this)">Read More</div>
                </div>`;
            grid.insertBefore(newCard, grid.firstChild);
        }

        function removeCard(btn) { if(confirm("Delete?")) btn.closest('.article-card').remove(); }
        function changeImage(img) { if(document.body.classList.contains('admin-active')) { let url = prompt("Image URL:", img.src); if(url) img.src = url; } }

        function savePage() {
            let clone = document.documentElement.cloneNode(true);
            clone.querySelector('body').classList.remove('admin-active');
            clone.querySelectorAll('[contenteditable]').forEach(el => el.removeAttribute('contenteditable'));
            clone.querySelector('#adminToolbar').style.display = 'none';
            let blob = new Blob(["<!DOCTYPE html>\n" + clone.outerHTML], { type: "text/html" });
            let link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `zaad_articles_${new Date().toISOString().split('T')[0]}.html`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
